\documentclass[11pt, english, a4paper]{report-rd-info}
   % - 12pt:  can be preferable to read the report on small screens, ask your supervisors
   % - screen:  to be removed in order to obtain a classical report
\usepackage[latin1]{inputenc}
   % - latin9, utf8, etc.
\usepackage[T1]{fontenc}

% some definitions for the actual contents
\usepackage{enumerate}
\usepackage{amsmath, amssymb}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{color}
\usepackage{graphicx}

\begin{document}

\title{A Robust Peer-To-Peer Gossiping Protocol in Routed Networks}
\subtitle{A Model and Short Guide}

\authorA{Julian}{Tanke}
\authorB{Julian}{Tanke}
\supervisor{José}{Martinez}
\cosupervisor{Pascal}{Molli}
   % In case, there are more than two supervisors, use the following trick:
   %    \cosupervisor{Jean}{Cadre \& {\normalfont Still} Another}
\coordinator{Jean}{Registre}
\institution{LINA}
   % - LINA when you're supervised by members of the research teams GRIM or COD (may be some others);
   % - IRCCyN when youre supervised by members of the research team IVC;
   % - XXX when supervised by another organism
   %   (In that case, you have to provide, in the "logos" directories, the files named: XXX.pdf -- if not XXX.jpeg or XXX.png -- for pdflatex *and* XXX.eps for latex);
   % - otherwise comment it
\theme{\'Equipe GRIM}
   % - optionally provide it when an institution has been declared (GRIM, COD or IVC for the local research teams)
   % - otherwise comment it
%\coinstitution{Centre national de la recherche scientifique}{CNRS}{1.7cm}
   % - if you need to add a partner
   % - the logo must be provided, e.g., CNRS.pdf here
   % - the third parameter allows one to control the width of the logo in order to make
   %   it look of the same size of the one from the university of nantes and possibly the laboratory
\date{November 15, 2014}
   % - do not had un 0 in front of the first to ninth day of a mont!
   % - you can altogether ignore the day.

%-------------------------------------------------------------------------------------------------------------

\begin{abstract}
%\small % Comment it out should the abstract by slightly too long to fit in the page.
   As the name suggests, the abstract is a very short but informative piece of information about everything you did in this work, i.e., successively the description of the problem at hand, the objectives, the main point of the state-of-the-art, the choices made, the conceptual developments, the conducted experiments, results and interpretations, the new issues.

   It is the last thing to write!
\end{abstract}

\begin{classification}
%\small % Idem
   Bibliographic indexing is required. Use the ACM thesaurus:  See \url{http://www.acm.org/about/class/}. (The following example is based on the 1998 version, where general terms and additional key words are optional.)

   \category{H.2.8}{Database Applications}{Image databases}
   \category{H.3.3}{Information Search and Retrieval}{Clustering, Information filtering, Relevance feedback}
   \category{H.3.7}{Digital Libraries}{User issues}
   \category{I.5.3}{Clustering}{Algorithms, Similarity measures}
   \category{I.4.10}{Image Representation}{Statistical, Multidimensional}
   \terms{Algorithms, Performances, Experiments, Human factors, Verification.}
   \keywords{Content-based image retrieval system, Classification, Feedback loop, Supervised learning.}
\end{classification}

\maketitle

%--------------------------------------------------------------------------------

\begin{acknowledgements}
LSEQ and A Scalable Encoding for Massive Collaborative Editing 
\end{acknowledgements}

%--------------------------------------------------------------------------------

\newpage

\tableofcontents

%--------------------------------------------------------------------------------

\chapter{Introduction}

% 1:Motivation - why interesting and important for larger community?

Motivation of this paper is ...
Gossip-based peer-to-peer protocols have been applied to a various number of large scale systems serving an array of problem settings including information dissemination \cite{Demers:1987:EAR:41840.41841}, information aggregation \cite{Jelasity:2005:GAL:1082469.1082470} and network management \cite{conf/dsom/VoulgarisS03}.
Control is distributed symmetrically, peers are highly autonomous and independent, which allows the algorithms to be simple compared to hierarchical approaches.
This protocols can easily scale to millions of peers which can join and leave without significantly disrupting the service.

Today, many services use the internet as transport agent.
End user devices\footnote{In this context we define an end user device as a personal computer or a consumer device (e.g. a PDA or a smart phone)} usually are members in private\footnote{to not get in trouble with IPv4-limitations} local area networks hidden behind routers.
In general it is not possible for such a device to directly address another peer if they do not share the same local network, hence a external service like NAT is needed to establish a connection. 


% 2:What is the specific problem? and background
Problems emerge when a peer-to-peer

% 3:summarize main contributions. What is the general approach taken? Why significant? MUST BE GOOD!

In this report, we show that ...

% 4:High level: what are the differences to what others have done. Reader must know whats new about this work
% to compare to other work in the area

err

% 5:structure

The remainder of this paper is structured as follows: 

%OLD
Gossip algorithms, also called epidemic algorithms, present a simple, scalable and robust way of disseminate information in large-scale networks \cite{Demers:1987:EAR:41840.41841}, even if nodes regularly join and leave.

Many of those algorithms rely on periodically exchanging information with random peers in the network to maintain a uniform distribution \cite{Karp00randomizedrumor} \cite{Jelasity:2004:PSS:1045658.1045666}.
This works well in local area networks where addressing other peers is simple and relativly fast (\footnote{\color{red} I probably do need to reference this 'asumption'?}).
In practice, however, peers are often members in extended networks (WAN) where they are scattered over multiple local networks without having a globally accessably address. 
Devices are usually hidden behind network address translation (NAT) where they are not directly accessible by devices from another subnet - a signaling service is needed.
This drastically increases the complexity of establishing connections between peers.

%contrib
In this report we study how various gossip protocols behave when they are applied in a wide area network. 
We will compare how their behaviour differs from their original implementations and elaborate necessary modifications so that these protocols work more efficiently and stable in an extended network with as few external services as possible. 
We solve this by delegating the signaling service to the gossip protocol. Peers function as man-in-the-middle to hoist connections between their neigbors.

%struct
The rest of the report is structured as following:

\begin{itemize}
    \item{\textbf{Chapter~\ref{chap:StateOfTheArt}} studies a number of gossip protocols and introduces the technology WebRTC. Further we will explain the differences of an extended network and a local area network assumed by this report.}
    \item{\textbf{Chapter~\ref{chap:Proposals}} evaluates what gossip protocols are applicable with acceptable complexity and suggests changes to the algorithms to make them more robust. Furthermore we will study of how to introduce the signaling service into the algorithms. }
    \item{\textbf{Chapter~\ref{chap:Experiments}} follows a development, experiment, and analysis path in order to quantify the theoretical results.}
    \item{Finally, the conclusion summarises the work and introduce new research issues that are worth pursuing.}
\end{itemize}

%-------------------------------------------------------------------------------------------------------------

% \part{State-of-the-Art} % Comment it out if the state-of-the-art requires several chapters.
                          % Most often, you'll then have a presentation chapter followed by a critical synthesis chapter.
                          % In that case, you must commen tour your work part, hereafter.
% \label{part:StateOfTheArt}

\chapter{State of the Art}
\label{chap:StateOfTheArt}

This chapter introduces fundamental algorithms and concepts. 

\section{Gossip Protocol}

Gossip is a  communication protocol initially inspired by observing of how gossips spread in social networks or how diseases spread over a population.
It trades reliability guarantees against scalability properties \cite{Eugster:2003:LPB:945506.945507} and it has been applied to various large scale systems, with the purpose of information dissemination \cite{Demers:1987:EAR:41840.41841}, information aggregation \cite{Jelasity:2005:GAL:1082469.1082470}, network management \cite{conf/dsom/VoulgarisS03} and many more.

The basic idea behind gossip works as follows:
Consider a a network of $n$ nodes denoted by $V=\{1,...,n\}$.
Let $E \subset V \times V$ denote neighboring\footnote{In this paper, nodes are considered neighbors if they are directly connected to each other} nodes, let this network graph be denoted by $G = (V,E)$ and let $d_i$ denote the degree of node $i$ in $G$ where 
$d_i$ is constrained by the configuration parameter $c \in \mathbb{Z}_{>0}$ which is called Fanout.
The Fanout defines the number of nodes that are selected when a message is broadcast from a node.
A high value generates a lot of redundant messages while being more fault tolerant and reliable. 
$V$ and $E$ constantly change as nodes leave and join the network and nodes update there neighbors to maintain a uniform distribution.

Assuming a node $i$ wants to broadcast a message $m$ - It sends $m$ to its $d_i$ neighboring nodes. 
A receiving node $j$ evaluates if it already knows $m$ - and if not, it will repeat the previous procedure: broadcast to its $d_j$ neighboring nodes and so forth. 

Usually, one can distinguish between two types of epidemic dissemination of messages\cite{Demers:1987:EAR:41840.41841}:
\begin{itemize}
    \item \textbf{Rumor mongering:} (reactive) When receiving a message, a node sends it to all other nodes in its view.
    \item \textbf{Anti-entropy:} A node periodically queries one random other node to check for message it has not received yet.
\end{itemize}

When $n$ is very large, for a given node $i$ it applies that $d_i << n$.
This is necessary for scalability reasons as, otherwise, the list of neighbors might exhaust a nodes memory and maintaining the list in presence of churn would be too expansive.
We will call $\mathcal{N}_i \equiv \{j\in V:(i,j)\in E\}$ the \textbf{partial view} of $i$.

For scalability reasons a node $i$ cannot know all available other nodes in $V$ as this might exhaust its memory and because maintaining the list in presence of churn would be too expansive - for this reason nodes will see only a subset of processes, which we will call \textbf{partial view}.

\section{Peer Sampling Service}

The peer sampling service \cite{Jelasity:2004:PSS:1045658.1045666}, or, random peer sampling (RPS), is a service that allows nodes in a gossip protocol to get a subset of the whole network $V$.
RPS can be used in a variety of gossip-based protocols, for example in topology management \cite{Jelasity:2009:TGF:1570533.1570626}. 
It consists of a very simple API:

\begin{itemize}
    \item{\textbf{init:}} Initializes the service on a given node if this has not been done before. This is implementation dependent.
    \item{\textbf{getPeer:}} Returns a peer address if the network contains more than one node. The returned address is a sample drawn from the group. This method can also be used to return multiple random peers, either by providing a paramter $n$ to the function or by simply calling the method multiple times.
\end{itemize}

There are two strategies to maintain partial views in peer sampling services \cite{Leitao_gossip-basedbroadcast} that will play an important role in our evaluation:

\begin{itemize}
    \item{\textbf{Reactive:} The partial view only changes when $V$ changes (Nodes join or leave) and remains stable otherwise.
An example algorithm is SCAMP \cite{Ganesh:2001:SPL:648089.747488}.}
    \item{\textbf{Cyclic:} The partial view is periodically updated every $\bigtriangleup T$ time units and membership information are exchanged with neighbors.
An example algorithm is CYCLON \cite{Voulgaris05cyclon:inexpensive}.}
\end{itemize}

\section{Newscast}

The newscast protocol \cite{Voulgaris03arobust}\cite{Jelasity02large-scalenewscast} serves for information dissemination and as memebership management protocol where joining and leaving the network is very cheap.
If a node wants to join the system it only needs to know the address of an arbitrary member, for leaving the network no action is necessary, the node can simply stop communicating.

Abstractly it works by employing a group of nodes called \emph{collective of agents} and a \emph{news agency}.
All agents must implement a simple API consisting of \textbf{getNews()} and \textbf{newsUpdate(news)}.
For the protocol, all agents are passive and are queried by the news agency.
\textbf{getNews} is called regularly by the agency to obtain any news. 
Additional to that, the news agency provides the whole collective with news by calling \textbf{updateNews}.
The news agency can be implemented in a fully distributed fashion by running an associated \emph{correspondent} that runs on the same machine as the agent \cite{Voulgaris03arobust}.

Each correspondent has a news cache of size $c$ where the news optained from the agent are timestamped and stored.

Every $\bigtriangleup T$ (\textit{refresh interval}) time the correspondents exchange their caches applying the following steps\footnote{as described in \cite{Voulgaris03arobust} Section 2.1}:

\begin{enumerate}
    \item{Request a fresh news item from the local agent by calling \textbf{getNews}. Add the item to the cache.}
    \item{Radomly select a peer correspondent by considering the netwok address of other (and available) correspondents as found in the cache.}
    \item{Send all cache entries to the selected peer, and, in turn, receive all the peer's cache entries. Merge the received entries into the local cache.}
    \item{Pass the received cache entries from the peer agent to the local agent by calling \textbf{newsUpdate}.}
    \item{The correspondent now has $2c$ cache entries; it subsequently throws away the $c$ oldest ones.}
\end{enumerate}

The receiving correspondent executes the last three steps as well.

Synoptical, each agents knows only a small, permanently changing set of peers of which one is chosen to exchange information.

\section{SCAMP}

The probabilistic scalable membership protocol (SCAMP)\cite{Ganesh:2001:SPL:648089.747488} is a reactive peer sampling service.
The size of its local views adapt automatically to a desired value of $(c+1)\log{n}$ where $c$ is a  parameter which specifies the degree of robustness to failure(\cite{Kermarrec:2003:PRD:766617.766623}, \emph{Theorem 1}).
It maintains two separated partial views\cite{Ganesh:2003:PMM:642778.642782}, one for receiving gossip messages (InView) one for sending gossip messages (PartialView).

If a new node $k$ wants to join the network $G(V,E)$ it needs to have one member $i \in V$ in its $PartialView_k$ and send a subscription request to $i$.
On receiving a subscription request, $i$ forwards the new peer to all members of its own $PartialView_i$, and, additianally, creates $c$ copies of the new subscription and forwards them to randomly chosen nodes in $PartialView_i$.

On receiving a fowarded subscription for node $k$, a receiving node $j$ integrates $k$ into its $PartialView_j$ with probability $p$ which depends on the size of $PartialView_j$ ($p=\frac{1}{1+|PartialView|}$). 
If $j$ does not integrate $k$, it forwards it to another randomly chosen peer from its $PartialView_j$.

When a node $i$ decides to keep the subscription of a node $j$, it integrates $j$ into its $PartialView_i$ and notifies $j$ to put $i$ into its $InView_j$.

On leaving the network, the leaving node $j$ sends a \emph{replace request} containing a peer from its $PartialView_j$ to $|InView_j|-c$ peers in its $InView_j$ and a \emph{deleting request} to the remaining ones.
When a node $i$ receives the \emph{replace request} from $j$, it will replace $j$ for the sent peer in its $PartialView_i$.

A subscription has a finite lifetime called \emph{lease}\footnote{The lease is implementation dependend: it could be set individually or it could be set globally}.
When expired, the subscribed node will be removed from all PartialViews.
It is a nodes responsibility to resubscribe once its subscription expires.
This mechanic ensures that failed nodes will not remain in the network.

\section{CYCLON}

CYCLON \cite{Voulgaris05cyclon:inexpensive} is a cyclic peer sampling service.
Each peer maintains a partial view of size $c$ and repeatedly exchanges its view with a neighbor - this operation is called a shuffle.
The protocol works as follows\footnote{Enhanced Shuffling, described in \cite{Voulgaris05cyclon:inexpensive}}:

Every $\bigtriangleup T$ time unit a node $i$ executes the shuffle function:

\begin{enumerate}
    \item{Increase by one the age of all neighbors.}
    \item{Select neigbor $j$ with the highest age among all neighbors, and $l-1$\footnote{$1 \le l \le c$}} other random neighbors.
    \item{Replace $j$'s entry with a new enty of age 0 and with $i$'s address.}
    \item{Send the updated subset to peer $j$}
    \item{Receive from $j$ a subset of no more than $t$ of its own entries.}
    \item{Discard entries pointing at $j$ and entries already contained in $i$'s partial view.}
    \item{Update $i$'s partial view to include all remaining entries, by firstly using empty slots (if any), and secondly replacing entries among the ones sent to $j$}
\end{enumerate}

On receiving the shuffle request from $i$ at $j$, $j$ sends back a random subset of $l$ of its neighbors and updates its own partial view with the sent data but it does not increase the age of the items in the partial view.

When a node $i$ does not get a response from a node $j$ after it sent a shuffle request it will discard node $j$ from its partial view as it seems to be failed. 
Because of this, failed nodes will be removed from the network in bounded time.

As in SCAMP and newscast, if a node wants to join the network, it needs to know another node that is already part of it.

\section{WebRTC}

Web Real-Time Communications (WebRTC) is a client-side API to enanble Real-Time Communications in WEb browser \cite{webrtc}.

\textit{These APIs should enable building applications that can be run inside a browser, requiring no extra downloads or plugins, that allow communication between parties using audio, video and supplementary real-time communication, without having to use intervening servers (unless needed for firewall traversal, or for providing intermediary services).}

As we are mostly interested in sending arbitrary data beween peers we will focus on the DataChannel API.

Unfortunately WebRTC cannot create a connection between peers without a signaling service. That means that we need some sort of communication exchange prior to the direct peer-to-peer connection.
For WebRTC this could be a Websocket server.
The image below illustes the connection workflow:

\includegraphics[width=8cm]{Images/WebRTC}

\section{Synthesis}

%\begin{table*} % Use the starred version if the table is too large for a two-column document (screen version)
%    \begin{center}
%        \begin{tabular}{c|ccccc}
%                         & Proposal 1 & \ldots & Proposal $i$ & \ldots & Proposal $n$ \\
%            \hline
%            Criteria $1$ & $\surd$    &        &              &        & $\surd$      \\
%            \ldots       & \ldots     & \ldots & \ldots       & \ldots & \ldots       \\
%            Criteria $j$ & $\approx$  &        &              &        &              \\
%            \ldots       & \ldots     & \ldots & \ldots       & \ldots & \ldots       \\
%            Criteria $m$ &            &        & $\surd$      &        &              \\
%        \end{tabular}
%    \end{center}
%    \caption{Comparison of various proposals}
%    \label{tab:ProposalsComparison}
%\end{table*}
TBD

\section{Conclusion}

TBD
%--------------------------------------------------------------------------------

% \part{Proposals} % Commet it out if this has been done for the state-of-the-art
% \label{part:Proposals}

\chapter{Proposals}
\label{chap:Proposals}

Massiv colab \cite{MassCollab}

A possible application for gossip protocols in a wide area network could be a serverless massive collaborative editor \cite{nedelec:hal-00921633} in a web browser.
A gossip-based peer-to-peer network would scale better than a traditional server-client-architecture like Google Docs (which only allows 50 users to work on one document) or Microsoft Word Online.
A peer-to-peer connection can be established using WebRTC\cite{webrtc}, a recent web technology that enables multimedia and data sharing between browser clients - however, the difficulties regarding establishing connections must be addressed. 

Introduce the various ideas and proposals. As for the state-of-the-art, if this chapter is too long, split it into different chapters.

\section{Proposal 1}

For each of contribution, it is advisable:
\begin{itemize}
   \item to introduce it thanks to preliminary intuitive ideas (coming both from your understanding of the problem and from the ideas brought to you by the literature);
   \item then to formalise them trough mathematical models and/or algorithms;
   \item then demonstrated, as much as possible;
   \item finally analysed (e.g., Do you solve the whole problem? Is the solution resource efficient? Etc.).
\end{itemize}

\section{Proposal 1}

Etc.

\section{Conclusion}

If too many ideas have been enumerated and none can be totally and formally demonstrated to be the best, then some choice has probably to be made in order to limit the time-consuming experiments that follow.  It is preferable to achieve a few well-conducted experiments that will provide unquestionable conclusions though in a limited scope.

%--------------------------------------------------------------------------------

%\part{Experiments and Results} % in case of several chapters, then name the chapters differently
%\label{part:Experiments}

\chapter{Experiments and Results}
\label{chap:Experiments}

When it is not possible to work only at the theoretical level, experiments will take place.  In Computer Science, this is most often through developing code then running experiments with it and analysing the output.

Notice that if both parts are important, or if more than one proposal has been investigated, it is certainly better to split this chapter into several distinct chapters.  In the former case, you can even enclose these chapters inside a new part.

\section{Experiment 1}

Be extremely precise when describing your experiments.  They must be reproducible by any reader deeply interested in your work.

You should describe all the hypotheses and constraints related to the manipulated data and the developed algorithms or used softwares.  Check them carefully in order not to draw false conclusion from bad inputs or erroneous processing!

\begin{figure}
   \centering
   \setlength{\unitlength}{5cm}
   \begin{picture}(1.2, 1.3)
     \put(0, 0){\vector(1, 0){1.15}}
     \put(1.17, -.015){$x$}
     \put(0, 0){\vector(0, 1){1.15}}
     \put(0, 1.19){\makebox(0, 0){$y$}}
     % qbezier P1=(0.0/0.0) m1=0.0
     %         P2=(0.2998/0.905) m2=10.0
     \qbezier(0.0,0.0)(0.2093,0.0)(0.2998,0.905)
     % qbezier P1=(0.0/0.0) m1=0.0
     %         P2=(0.4625/0.8198) m2=5.0
     \qbezier(0.0,0.0)(0.2985,0.0)(0.4625,0.8198)
     % qbezier P1=(0.0/0.0) m1=0.0
     %         P2=(0.5757/0.744) m2=3.3333
     \qbezier(0.0,0.0)(0.3525,0.0)(0.5757,0.744)
     % qbezier P1=(0.0/0.0) m1=0.0
     %         P2=(0.6589/0.677) m2=2.5
     \qbezier(0.0,0.0)(0.3881,0.0)(0.6589,0.677)
     % qbezier P1=(0.0/0.0) m1=0.0
     %         P2=(0.7218/0.618) m2=2.0
     \qbezier(0.0,0.0)(0.4128,0.0)(0.7218,0.618)
     % qbezier P1=(0.0/0.0) m1=0.0
     %         P2=(0.7703/0.5662) m2=1.6667
     \qbezier(0.0,0.0)(0.4306,0.0)(0.7703,0.5662)
     % qbezier P1=(0.0/0.0) m1=0.0
     %         P2=(0.8081/0.5207) m2=1.4286
     \qbezier(0.0,0.0)(0.4436,0.0)(0.8081,0.5207)
     % qbezier P1=(0.0/0.0) m1=0.0
     %         P2=(0.8381/0.4806) m2=1.25
     \qbezier(0.0,0.0)(0.4536,0.0)(0.8381,0.4806)
     % qbezier P1=(0.0/0.0) m1=0.0
     %         P2=(0.862/0.4454) m2=1.1111
     \qbezier(0.0,0.0)(0.4611,0.0)(0.862,0.4454)
     % qbezier P1=(0.0/0.0) m1=0.0
     %         P2=(0.8814/0.4142) m2=1.0
     \qbezier(0.0,0.0)(0.4672,0.0)(0.8814,0.4142)
     % qbezier P1=(0.0/0.0) m1=0.0
     %         P2=(0.8972/0.3866) m2=0.9091
     \qbezier(0.0,0.0)(0.4719,0.0)(0.8972,0.3866)
     % qbezier P1=(0.0/0.0) m1=0.0
     %         P2=(0.9102/0.362) m2=0.8333
     \qbezier(0.0,0.0)(0.4758,0.0)(0.9102,0.362)
     \put(0.5757, 0.744){\circle*{.015}}
     \put(0.6,    0.74){$(u,v)$}
     \put(0.5,    0.05){$L$}
     \put(0.18,    0.45){$L$}
     \put(1, -.02){\line(0, 1){.04}}
     \put(1, .06){\makebox(0, 0){$L$}}
     \put(-.02, 1){\line(1, 0){.04}}
     \put(.03, .98){$L$}
   \end{picture}
   \caption[Quality of the results obtained]
           {Quality of the results obtained [Source : << \emph{Graphics in LaTeX 2$_\varepsilon$} >>, page~23]}
   \label{fig:Courbes}
\end{figure}

In this part of the report, you should put forth \emph{synthetic results}, in the form of several tables and figures (e.g., See figure~\ref{fig:Courbes}%
\footnote{Urs Oswald, \emph{``Graphics in LaTeX 2$_\varepsilon$,''} March 2003, \url{http://www.ursoswald.ch}.}%
)

For the sake of completeness, these synthetic results must be supported by the base results from which they are derived.  These lengthy results have to be put into the appendices (e.g., See Appendix~\ref{app:Measures}).

\section{Experiment 2}

Etc.

\section{Conclusion}

The conclusion of this chapter (alternatively of this part) is normally the culmination of this research work.  All the quality of the work, along with its limitations, have to be emphasised.  Also, you can draw some personal conclusion on the way this study has been conducted and what could be done better should you have the chance to restart it anew.

%--------------------------------------------------------------------------------

\chapter{Conclusion}

By the end of the work, you should firstly summarise the main steps and key results of the study.  Then, you should describe the research directions that this work opens, both simple extensions and new endeavours.

\section{Summary}

Even if it is yet another repetition, it is convenient to summarise not the whole report but at least your own work and results, stressing their value.

\section{Outcomes}

The most valuable teachings of the work (there always have) must be emphasised.  Some can be personal.

\section{Research directions}

It is quite rare that a given work totally closes a topic!  Even in that case, it remains possible to introduce new research directions, more or less connected to the topic and the new state-of-the-art.  More generally, you can mention all and every question that has arisen during the course of your work.

%--------------------------------------------------------------------------------

\bibliography{report}

\listoffigures{}

\listoftables{}

\listofalgorithms{}

\appendix

\chapter{Quoting Correctly}
\label{ann:Citations}

When copying verbatim the text of some author, i.e., doing a copy-paste operation from an electronic document or simply rewriting it by hand, you must obey some rules.

\section{Short Quotations}

Short quotations are written << on-line >> but emphasised by being put:
\begin{enumerate}
   \item into italics;
   \item between quotes;
   \item followed by the reference to the original text from which it has been extracted.
\end{enumerate}

In that way, we could write \emph{``[s]i on est trop jeune, on ne juge pas bien [;] [s]i on est trop vieil, de même''}\footnote{if one is too young, one does not judge well;  so if one is too old} \cite{Pascal-1671}.

The rationale is to clearly give credit to the author.

\bigskip

In the previous example, notice that some parts of the text are put between squared brackets.
This are parts of the original text that have been slightly modified in order to fit the syntactic and grammatical rules of the whole sentence.
Here, that corresponds to an original sentence that has been transformed into a subordinate.

The most important of those marks is the ellipsis (unused here), denoted ``[\ldots]'.
It corresponds to a part of the text that has been removed.
The reason for doing that can be to avoid a digression from the main matter.
Nevertheless, omitting to inform the reader that the text has been purged is a means to lie to the reader and possibly to change the original meaning of the text, whether intentionally or not.

\section{Long Quotations}

Longer quotations -- from a few sentences to some paragraphs -- use a specific format, illustrated below.
The whole borrowed text is indented and still obeys the previous rules.

For instance, by taking the full original text of the previous example, we obtain:
\begin{quote}
   \emph{<< Si on est trop jeune, on ne juge pas bien. Si on est trop vieil, de même. Si on n'y songe pas assez, si on y songe trop, on s'entête, \& l'on ne peut trouver la vérité. >>}\footnote{If one is too young, one does not judge well;  so if one is too old.  If one does not think enough, or too much, one gets obstinate and cannot find the truth.} \cite{Pascal-1671}
\end{quote}

\section{Foreign Languages}

When the text is written in a foreign language, it must be kept into its original format, and the other rules are the same.
However, in addition, a translation should be given as a footnote (which can help to detect misunderstandings!\ldots).

\section{Figures}

Any kind of schema (figures, tables) belonging to someone else can only be copied with parcimony and by referencing the source in the legend.

\section{Plagiarism}
\label{ann:Plagiarism}

Any other usage of someone else production means plagiarism, more or less shameless depending of the number of modifications that have been made on the original source.

For instance, the following text:
\begin{quote}
   Dans le monde réel, très rares sont les situations où l'on serait capable d'effectuer une partition nette d'un ensemble d'objets en des parties disjointes, voire même aux frontières clairement établies. La gradualité du passage entre des classes différentes aux frontières non reconnaissables n'est-elle pas l'une des motivations essentielles, sinon la première, qui furent à l'origine de la naissance de la théorie des sous-ensembles flous. Les techniques floues de classification sont souvent nées de la tentative de généralisation de techniques déjà existantes d'après \cite{Khodja-97}.
\end{quote}
is an awkward ``quotation'' of:
\begin{quote}
   \emph{<< En effet, dans le monde réel qui nous entoure, très rares sont les situations où l'on serait capable d'effectuer une partition nette d'un ensemble d'objets en des parties disjointes, voire même aux frontières clairement établies. La gradualité du passage entre des classes différentes aux frontières non reconnaissables n'est-elle pas l'une des motivations essentielles, sinon la première, qui furent à l'origine de la naissance de la théorie des sous-ensembles flous [ZAD65]. L'introduction du concept de fonction d'appartenance dans des techniques de classification, et ce, très rapidement après la parution de l'article séminal de Zadeh, et les différents travaux qui le suivirent, témoignent de la fertilité de l'apport de la théorie des sous-ensembles flous au vaste champ de la classification, qui y trouve un cadre beaucoup plus naturel que celui offert par la théorie classique des ensembles. >>} \cite{Khodja-97}
\end{quote}

In fact, the first ``quotation'' makes the reader presume that this a point of view shared by several authors rather than really a quote.
Besides, the reference is associated to the last sentence rather the whole paragraph.

\bigskip

As another example, the following text:
\begin{quote}
La problématique de l'intégration repose sur la standardisation de données internes à l'entreprise, mais aussi des données externes.

Si on prend l'exemple d'une entreprise on aura besoin de ses données internes et externes c'est-à-dire celles des clients et fournisseurs de cette entreprise.

Ce n'est qu'avec une bonne intégration que l'on peut offrir une vision homogène, complète et véritablement transverse de l'entreprise. Pour cela il faut que le système d'information de l'entreprise soit parfaitement structuré, maîtrisé et d'un bon niveau d'intégration. Si tel n'est pas le cas, l'entrepôt de données ne pourra pas être mis en \oe uvre à cause de la qualité des données qui reste mauvaise.
\end{quote}
is not only a plagiarism but moreover a voluntary plagiarism with some kind of dissimulation:
\begin{quote}
\emph{<< La problématique de l'intégration repose sur la standardisation de données internes à l'entreprise, mais aussi des données externes (provenant par exemple de clients ou de fournisseurs).}

\emph{Ce n'est qu'au prix d'une intégration poussée que l'on peut offrir une vision homogène et véritablement transverse de l'entreprise. Ce[la] suppose que le système d'information de l'entreprise en amont soit bien structuré, bien maîtrisé, et bénéficie déjà d'un niveau d'intégration suffisant. Si tel n'est pas le cas, la mauvaise qualité des données peut empêcher la mise en \oe uvre de l'entrepôt de données. >>}\footnote{\emph{Entrepôt de données}. Wikipedia, 3 février 2010, \url{http://fr.wikipedia.org/wiki/Entrepôt_de_données}}
\end{quote}

\vspace{2\baselineskip}

In short, ``copy-and-paste'' operations are allowed under strict and restrictive conditions that:
\begin{itemize}
   \item they must be perfectly identifiable;
   \item the original references must be provided in the bibliography or as footnotes;
   \item they must be short;
   \item they must not be numerous.
\end{itemize}

In contrast, it is possible, and even highly recommended, to \emph{reformulate} with your own words and within the context of the report, the \emph{ideas} that have been found in the literature.  In that case, intellectual honesty is ``limited'' to adding the references to the sources in the text.

\bigskip

\begin{center}
   \fcolorbox{red}{yellow}{
      \color{red}
      \large
      \begin{minipage}[c]{0.8\columnwidth}
         Violators of these rules will be prosecuted in front of the disciplinary committee of the university.

         A fraud leads to the cancellation of the project, at the very least, up to the expulsion from the university as well as the prohibition to pass a public exam for five years!
      \end{minipage}
   }
\end{center}

\chapter{Reminder}
\label{app:Reminder}

A reminder appendix can contain information that is supposed to be known by the reader but that is worth to include in the report in order to make it self-contained.

If the reminder contains only a list of short definitions, consider naming it ``Glossary'' instead.  You can have both.

For instance, we can write down: ``The average can be computed differently whether the individuals are grouped or not, their exact number known or only their frequency, i.e.:
\begin{eqnarray}
    \mu & = & \frac{1}{n} \sum_{i=1}^n x_i\\
    \mu & = & \frac{1}{N} \sum_{i=1}^m x_i \times n_i\\
    \mu & = & \sum_{i=1}^m x_i \times f_i
\end{eqnarray}
with:
\begin{itemize}
    \item $N = \sum_{i=1}^m n_i$ ;
    \item $f_i = \frac{n_i}{N}$.''
\end{itemize}

\chapter{Detailed Measures}
\label{app:Measures}

Lengthy sub-results have to be put in appendices.  In other words, too boring details should be postponed to the very last part of the reading, that is when the reader is interested enough in understanding the very details of your proposal, especially if he or she intend to reproduce your experiment.  This is also true for detailed algorithms, etc.

This (these) appendix(ces) is (are) mandatory in order for the report to contain of the ``proofs'' of its claims, i.e., to really provide a \emph{scientific} work.

\chapter{Annotated References}
\label{app:FichesLecture}

It is a good idea to provide a short summary of each of the papers in the references.

For each paper or book (in rare cases a \emph{complete and persistent} web site), you should extract the following kind of information:  firstly, a short summary;  then, your own analysis.

This is slightly redundant with the state-of-the-art chapter. However, notice that it lacks the overall synthesis, and it focuses on a single paper at a time.  In fact, this greatly helps to achieve the state-of-the-art.

\paragraph{\emph{Title of a paper}.}

Describe rapidly what problem is attacked in the paper (add the reference, e.g. \cite{Pascal-1671}).

\subparagraph{Summary.}

The summary presents the main idea of the paper and the work conducted \emph{by the authors} up to their conclusions.

\subparagraph{Analysis.}

It is only during a second phase that you can analyse the contents of the paper, i.e., verify it (errors are always possible in the scientific literature!), express your opinion about the advances claimed by the paper, and establish a connection with your own work.

\paragraph{\emph{Title of a paper}.}

Etc.

\chapter{Schedule}

This appendix is \emph{mandatory}.

Figure~\ref{fig:Drafting} shows the draft schedule establish \emph{a priori}\ldots

\begin{figure*}
% - Use the starred version in order to put floats on two columns
% - Possibly, use the "\ifscreen ... \else ... \fi"" alternative to orientate correctly
%   the planning with respect to the orientation of the paper (cf. below for the auto-evaluation)
   \centering
      \emph{<Insert a Gantt's diagram.>}
   \caption{Drafting}
   \label{fig:Drafting}
\end{figure*}

Figure~\ref{fig:Planning} introduce the planning that has been build week after week during the course of the work.

\begin{figure*}
   \centering
      \emph{<Insert a Gantt's diagram.>}
   \caption{Planning}
   \label{fig:Planning}
\end{figure*}

Discuss differences between the drafting and the planning as well as lessons learned on the management of a research project or R\&D project.

\chapter{Weekly Reports}
\label{ann:WeeklyReports}

This appendix is \emph{mandatory}.

\begin{fichesuivi}{September 13, 2010}{September 18, 2010}
   \tempstravailA{2}{30}
   \tempstravailB{3}{45}

   \begin{travaileffectue}
      \begin{itemize}
         \item Task 1:  difficulty, simplicity; achieved, advanced up to $t$\%; etc.;
         \item Task 2:  \ldots;
         \item Etc.
      \end{itemize}
   \end{travaileffectue}

   \begin{travailnoneffectue}
      \begin{itemize}
         \item Task 1:  reasons; postponements, cancellations; etc.;
         \item Task 2:  \ldots;
         \item Etc.
      \end{itemize}
   \end{travailnoneffectue}

   \begin{echange}
      \begin{itemize}
         \item Questions;
         \item Answers;
         \item Clarification, comprehension;
         \item Choices, orientations, reorientations;
         \item Etc.
      \end{itemize}
   \end{echange}

   \begin{planification}
      \begin{itemize}
         \item Researches to be conducted;
         \item Papers to be read, understood, and analysed;
         \item Codes to develop;
         \item Etc.
      \end{itemize}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{September 20, 2010}{September 24, 2010}
   \tempstravailA{7}{50}
   \tempstravailB{5}{45}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{September 27, 2010}{October 1st, 2010}
   \tempstravailA{11}{20}
   \tempstravailB{9}{55}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{14}{30}
   \tempstravailB{9}{20}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{12}{30}
   \tempstravailB{3}{40}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{7}{10}
   \tempstravailB{14}{30}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{9}{15}
   \tempstravailB{13}{45}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{18}{40}
   \tempstravailB{1}{25}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{21}{40}
   \tempstravailB{17}{10}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{4}{30}
   \tempstravailB{8}{15}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{10}{10}
   \tempstravailB{11}{00}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{3}{30}
   \tempstravailB{2}{10}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{10}{00}
   \tempstravailB{10}{00}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{3}{45}
   \tempstravailB{10}{20}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{16}{30}
   \tempstravailB{18}{15}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{14}{30}
   \tempstravailB{22}{30}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{17}{45}
   \tempstravailB{12}{50}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

\begin{fichesuivi}{}{}
   \tempstravailA{13}{10}
   \tempstravailB{9}{30}

   \begin{travaileffectue}
   \end{travaileffectue}

   \begin{travailnoneffectue}
   \end{travailnoneffectue}

   \begin{echange}
   \end{echange}

   \begin{planification}
   \end{planification}
\end{fichesuivi}

The summary table of work dedicated to the project is \emph{mandatory}.
If you do not use the provided weekly report sheets, you must establish the summary by yourself.
Otherwise, the simple command that follows in the source code (\verb+\printweeksummary+) does all the job of generating the table along with all the hyperlinks to the weekly reports.

\printweeksummary

\chapter{Self-assessment}

This appendix is \emph{mandatory}.

Figure~\ref{fig:IntermediateAutoEvaluation} enumerates a number of important points related to the three aspects of the work:
\begin{enumerate}
   \item report;
   \item oral presentation;
   \item results.
\end{enumerate}
This allows to evaluation your own level of satisfcation at the end of the first part of the project, consisting of:
\begin{enumerate}
   \item preliminary study;
   \item bibliographic study;
   \item general design of a solution.
\end{enumerate}

You can discuss in some details these various points.

%\begin{figure*}
   %\centering
      %\ifscreen % macro TeX (issue de la classe report-rd-info.cls) permettant d'ajuster le contenu en fonction du l'orientation du document (<< screen >> ou pas)
         %\rotatebox{90}{\includegraphics[width=0.9\textheight]{Images/Grille-Evaluation-PRD1}}
      %\else
         %\includegraphics[width=0.9\textwidth]{Images/Grille-Evaluation-PRD1}
      %\fi
 %  \caption{Points à contrôler à l'issue de la phase I}
 %  \label{fig:IntermediateAutoEvaluation}
%\end{figure*}

Figure~\ref{fig:FinalAutoEvaluation} provides the same kind of evaluation for the second part of the project, i.e.:
\begin{enumerate}
   \item detailed design;
   \item development;
   \item receipt.
\end{enumerate}

%\begin{figure*}
%   \centering
%      \ifscreen
%         \rotatebox{90}{\includegraphics[width=0.9\textheight]{Images/Grille-Evaluation-PRD2}}
%      \else
%         \includegraphics[width=0.9\textwidth]{Images/Grille-Evaluation-PRD2}
%      \fi
%   \caption{Points à contrôler à l'issue de la phase II}
%   \label{fig:FinalAutoEvaluation}
%\end{figure*}

\end{document}
